{% extends "base.html" %}

<!--split-->
{% block content %}

<div class="min-h-screen flex items-center justify-center bg-base-200">
  <div class="card w-full max-w-md shadow-xl p-8 bg-base-100">
    <h2 class="text-2xl font-bold text-center mb-6">Create Account</h2>

    {% if messages %}
    <!---->
    {% if not request.path == '/accounts/register/' %}
    <!-- Only show messages on pages other than login -->
    {% for message in messages %}
    <p class="text-error">{{ message }}</p>
    {% endfor %} {% endif %} {% endif %} {% comment %}
    <form method="POST" class="space-y-4">
      {% csrf_token %}

      <input
        type="text"
        name="username"
        placeholder="Username"
        class="input input-bordered w-full"
        required
      />

      <input
        type="email"
        name="email"
        placeholder="Email"
        class="input input-bordered w-full"
        required
      />

      <input
        type="password"
        name="password"
        placeholder="Password"
        class="input input-bordered w-full"
        required
      />

      <button class="btn btn-primary w-full" type="submit">Register</button>
    </form>
    {% endcomment %} {% comment %}
    <p class="mt-4 text-center">
      Already have an account?
      <a class="link link-primary" href="{% url 'accounts:login' %}">Login</a>
    </p>
    {% endcomment %} {% comment %}
    <form method="POST">
      {% csrf_token %} {{ form.as_p }}

      <button class="btn btn-primary w-full mt-3">Register</button>

      <p class="mt-4 text-center">
        Already have an account?
        <a class="text-primary" href="{% url 'accounts:login' %}">Login</a>
      </p>
    </form>
    {% endcomment %}

    <form method="POST">
      {% csrf_token %}

      <div class="space-y-3">
        {% for field in form %}
        <label class="form-control w-full">
          <span class="label-text mb-2">{{ field.label }}</span>
          {{ field }} {% if field.errors %}
          <p class="text-error text-sm">{{ field.errors.0 }}</p>
          {% endif %}
        </label>
        {% endfor %}
      </div>
      <br />
      <button class="btn btn-primary w-full mt-4">Register</button>

      <p class="mt-4 text-center">
        Already have an account?
        <a class="text-primary" href="{% url 'accounts:login' %}">Login</a>
      </p>
    </form>
  </div>
</div>

{% endblock %}
